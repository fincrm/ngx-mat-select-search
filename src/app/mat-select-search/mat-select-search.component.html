<!--
Copyright (c) 2018 Bithost GmbH All Rights Reserved.

Use of this source code is governed by an MIT-style license that can be
found in the LICENSE file at https://angular.io/license

Note: the  mat-datepicker-content mat-tab-header are needed to inherit the material theme colors, see PR #22
-->

@if (_isToggleAllCheckboxVisible()) {
  <mat-checkbox
    (change)="_emitSelectAllBooleanToParent($event.checked)"
    [checked]="toggleAllCheckboxChecked"
    [color]="matFormField?.color"
    [indeterminate]="toggleAllCheckboxIndeterminate"
    [matTooltipPosition]="toggleAllCheckboxTooltipPosition"
    [matTooltip]="toggleAllCheckboxTooltipMessage"
    matTooltipClass="ngx-mat-select-search-toggle-all-tooltip"
  />
}

<input
  #selectSearchInput
  (blur)="onBlur()"
  (keydown)="_handleKeydown($event)"
  (keyup)="_handleKeyup($event)"
  [attr.aria-label]="ariaLabel"
  [autocomplete]="autocomplete()"
  [formControl]="_formControl"
  [placeholder]="placeholderLabel"
  [type]="type"
/>

@if (searching) {
  <mat-spinner [diameter]="spinnerDiameter()" />
}

@if (!hideClearSearchButton && value && !searching) {
  <button (click)="_reset(true)" aria-label="Leeren" mat-icon-button>
    @if (clearIcon) {
      <ng-content select="[ngxMatSelectSearchClear]" />
    } @else {
      <mat-icon [svgIcon]="closeSvgIcon">
        {{ closeSvgIcon ? null : closeIcon }}
      </mat-icon>
    }
  </button>
}

<ng-content select=".mat-select-search-custom-header-content" />

@if (_showNoEntriesFound$ | async) {
  <div class="no-results">
    @if (noEntriesFound) {
      <ng-content select="[ngxMatSelectNoEntriesFound]" />
    } @else {
      {{ noEntriesFoundLabel }}
    }
  </div>
}
